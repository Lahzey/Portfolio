package poopgame.gamelogic.components;

import com.badlogic.ashley.core.Engine;
import com.badlogic.gdx.physics.box2d.World;

public class UpdateComponent extends LogicComponent {
	
	private Class<?> updateableClass;
	
	public UpdateComponent() {}
	
	public UpdateComponent(Class<?> updateableClass) {
		this.updateableClass = updateableClass;
	}

	@Override
	public Object storeState(Engine engine, World world) {
		return updateableClass.getName();
	}

	@Override
	public void loadState(Object state, Engine engine, World world) {
		try {
			updateableClass = Class.forName((String) state);
		} catch (ClassNotFoundException e) {
			throw new RuntimeException(e); // should never happen
		}
	}

}
