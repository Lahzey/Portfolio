package ui;

import java.awt.Color;

import javax.swing.BorderFactory;
import javax.swing.border.Border;

import org.kordamp.ikonli.fontawesome5.FontAwesomeRegular;

import graphics.swing.JAnimationPanel;
import graphics.swing.JImage;
import net.miginfocom.swing.MigLayout;

public class GuidePanel extends JAnimationPanel {
	private static final long serialVersionUID = 1L;

	private static Color TEXT_COLOR = new Color(179, 109, 0);
	
	private JAnimationPanel content;
	private Border closedBorder = BorderFactory.createMatteBorder(5, 0, 0, 0, new Color(100, 50, 0, 0));
	private Border openBorder = BorderFactory.createMatteBorder(5, 0, 0, 0, new Color(100, 50, 0, 100));
	
	public GuidePanel() {
		super(new MigLayout("insets 50px, fill, wrap 2, hidemode 3", "[]20px[grow, fill]", "[][grow, fill]"));
		setOpaque(false);
		setBorder(closedBorder);
		
		generateContent();
		
		JImage infoButton = new JImage(FontAwesomeRegular.QUESTION_CIRCLE, TEXT_COLOR);
		infoButton.setFont(Assets.FONT.deriveFont(30f));
		infoButton.addActionListener(e -> toggleContent());
		add(infoButton);
		add(new MenuLabel("GUIDE", 40f));
		
		add(content, "span 2, grow");
		content.setVisible(false);
	}
	
	private void toggleContent() {
		if (content.isVisible()) {
			content.close(200, JAnimationPanel.VERTICAL);
			setBorder(closedBorder);
		} else {
			content.open(200, JAnimationPanel.VERTICAL);
			setBorder(openBorder);
		}
	}
	
	private void generateContent() {
		content = new JAnimationPanel(new MigLayout("insets 0, fill, wrap 1", "[grow, left]", ""));
		content.setOpaque(false);
		content.setBorder(BorderFactory.createMatteBorder(5, 0, 0, 0, new Color(100, 50, 0, 100)););
		
		content.add(new MenuLabel("TEST"));
	}

}
