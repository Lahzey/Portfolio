package poopgame.gamelogic.abilities.special;

import com.badlogic.gdx.audio.Sound;

import poopgame.gamelogic.AtomicPoop;
import poopgame.gamelogic.Player;
import poopgame.gamelogic.Poop;
import poopgame.util.InternalAssetLoader;
import util.GenericListener;

public class NinjaSpecial extends SpecialAbility implements GenericListener<Poop> {

	public NinjaSpecial(Player player) {
		super(player);
		player.addShootListener(this);
	}

	private Sound sound = InternalAssetLoader.getSound("nuke.mp3");
	private AtomicPoop poop;

	@Override
	public void cast() {
		if (poop == null) {
			poop = new AtomicPoop(super.player, new Runnable() {

				@Override
				public void run() {
					poop = null;
				}

			});
			
			poop.create(super.player.getGame());
			player.getStats().setEnergy(100);
			sound.play();

		} else {
			poop.destroy();
		}
	}

	@Override
	public void actionPerformed(Poop object) {
		// TODO Auto-generated method stub
		
	}

}